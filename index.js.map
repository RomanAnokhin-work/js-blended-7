{"version":3,"file":"index.js","sources":["../src/js/products-api.js","../src/js/refs.js","../src/js/render-function.js","../src/home.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://dummyjson.com';\n\nexport async function getProductsCategories() {\n  try {\n    const response = await axios.get('/products/category-list');\n\n    return response.data;\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nexport async function getProducts(currentPage = 1) {\n  try {\n    const response = await axios.get(\n      `/products?limit=12&skip=${(currentPage - 1) * 12}`\n    );\n\n    return response.data.products;\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nexport async function getProductByCategory(category = 'smartphones') {\n  try {\n    const response = await axios.get(`/products/category/${category}`);\n\n    return response.data.products;\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nexport async function getProductById(id = 1) {\n  try {\n    const response = await axios.get(`/products/${id}`);\n    console.log(response.data);\n    \n    return response.data;\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n","export const categoriesList = document.querySelector('.categories');\nexport const productsList = document.querySelector('.products');\nexport const notFoundProducts = document.querySelector('.not-found');\nexport const modal = document.querySelector('.modal-product');\nexport const modalWindow = document.querySelector('.modal');","import { categoriesList, productsList, notFoundProducts, modal } from './refs';\n\nexport function renderCategoriesMarkup(arr) {\n  const markup = arr\n    .map(\n      element => `<li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${element}</button>\n </li>`\n    )\n    .join('');\n\n  categoriesList.innerHTML = markup;\n}\n\nexport function renderProductsMarkup(arr) {\n  if (!arr.length) {\n    notFoundProducts.classList.add('not-found--visible');\n    productsList.innerHTML = '';\n    return;\n  }\n\n  notFoundProducts.classList.remove('not-found--visible');\n\n  const markup = arr\n    .map(\n      element => `<li class=\"products__item\" data-id=\"${element.id}\">\n    <img class=\"products__image\" src=\"${element.images[0]}\" alt=\"${element.title}\"/>\n    <p class=\"products__title\">${element.title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:</span> ${element.brand}</p>\n    <p class=\"products__category\">Category: ${element.category}</p>\n    <p class=\"products__price\">Price: ${element.price} $</p>\n </li>`\n    )\n    .join('');\n\n  productsList.innerHTML = markup;\n}\n\nexport function createModalMarkUp(product) {\n  const markup = `<img class=\"modal-product__img\" src=\"${product.thumbnail}\" alt=\"${product.description}\" />\n      <div class=\"modal-product__content\">\n        <p class=\"modal-product__title\">${product.title}</p>\n        <ul class=\"modal-product__tags\"></ul>\n        <p class=\"modal-product__description\">${product.description}</p>\n        <p class=\"modal-product__shipping-information\">Shipping: ${product.shippingInformation}</p>\n        <p class=\"modal-product__return-policy\">Return Policy: ${product.returnPolicy}</p>\n        <p class=\"modal-product__price\">Price: ${product.price} $</p>\n        <button class=\"modal-product__buy-btn\" type=\"button\">Buy</button>\n      </div>`\n  modal.innerHTML = markup;\n}","//Логіка сторінки Home\nimport {\n  getProductsCategories,\n  getProducts,\n  getProductByCategory,\n  getProductById,\n} from './js/products-api';\nimport {\n  renderCategoriesMarkup,\n  renderProductsMarkup,\n  createModalMarkUp,\n} from './js/render-function';\nimport { categoriesList, productsList, modalWindow } from './js/refs';\n\ncategoriesList.addEventListener('click', handlerClick);\nproductsList.addEventListener('click', handlerProductListClick);\n\nasync function renderCategories() {\n  try {\n    const categories = await getProductsCategories();\n    const allCategories = ['All', ...categories];\n    renderCategoriesMarkup(allCategories);\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nasync function renderProducts() {\n  try {\n    const products = await getProducts();\n    renderProductsMarkup(products);\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nasync function handlerClick(event) {\n  let products = [];\n\n  const clickedBtn = event.target.closest('.categories__btn');\n\n  if (!clickedBtn) {\n    return;\n  }\n\n  const buttons = document.querySelectorAll('.categories__btn');\n\n  buttons.forEach(button => button.classList.remove('categories__btn--active'));\n\n  clickedBtn.classList.add('categories__btn--active');\n\n  const categoryName = clickedBtn.textContent;\n\n  if (categoryName === 'All') {\n    products = await getProducts();\n  } else {\n    products = await getProductByCategory(categoryName);\n  }\n  renderProductsMarkup(products);\n}\n\nasync function handlerProductListClick(event) {\n  const productCard = event.target.closest('.products__item');\n  if (!productCard) {\n    return;\n  }\n  const productId = productCard.dataset.id;\n  try {\n    const product = await getProductById(productId);\n    createModalMarkUp(product);\n    modalWindow.classList.add('modal--is-open');\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nrenderCategories();\nrenderProducts();\n"],"names":["axios","getProductsCategories","error","getProducts","currentPage","getProductByCategory","category","getProductById","id","response","categoriesList","productsList","notFoundProducts","modal","modalWindow","renderCategoriesMarkup","arr","markup","element","renderProductsMarkup","createModalMarkUp","product","handlerClick","handlerProductListClick","renderCategories","allCategories","renderProducts","products","event","clickedBtn","button","categoryName","productCard","productId"],"mappings":"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"}